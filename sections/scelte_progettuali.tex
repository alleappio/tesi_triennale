\section{Scelte progettuali}
Una delle peculiarità di ROS è che non limita la comunicazione tra i nodi al solo device che esegue l'istanza, ROS può infatti distribuire i pacchetti pubblicati dai nodi anche tramite rete, avvalendosi del protocollo \textbf{UDP}. 

\noindent È giusto dunque chiedersi se, per soddisfare le richieste e le necessità della guida remota, non basti avvalersi di questa peculiarità di ROS, evitando di aggiungere complessità, integrando altri protocolli di rete. 

\noindent Vengono di seguito riportate le motivazioni per cui non viene sfruttata la capacità di ROS di pubblicare pacchetti in rete nel progetto, andando invece a preferire un protocollo IOT come MQTT.

\subsection{Affidabilità}
Come descritto nella prefazione il framework ROS prevede l'esclusivo utilizzo del protocollo \textbf{UDP} per quanto concerne l'invio di messaggi in rete. Il protocollo UDP, un protocollo a livello trasporto molto veloce e versatile, soprattutto utilizzato in applicazioni che preferiscono minimizzare l'overhead e la latenza. Tuttavia, questa scelta comporta alcuni compromessi. 

\noindent Essendo un protocollo connectionless, \textbf{UDP} non garantisce la consegna dei pacchetti, né il loro ordine di arrivo. Inoltre, non fornisce meccanismi di controllo dell'errore, come la ritrasmissione automatica dei pacchetti persi. Di conseguenza, in ambienti con elevata interferenza o congestione di rete, si possono verificare perdite di dati e una degradazione della qualità del servizio.

\noindent Questa caratteristica del protocollo non ne permette un'utilizzo affidabile in casi critici come quello di studio, in quanto una perdita di pacchetti potrebbe molto facilmente scalare in potenziali danni al veicolo, persone od oggetti terzi.

\noindent Al contrario il protocollo MQTT si avvale del protocollo \textbf{TCP} a livello di trasporto. Questa scelta progettuale offre una serie di vantaggi che lo rendono particolarmente adatto per applicazioni IoT e di messaggistica in generale.

\noindent TCP garantisce la consegna ordinata e affidabile dei messaggi, riducendo al minimo il rischio di perdite di dati. Questa caratteristica è fondamentale in scenari come quello studiato, dove l'integrità dei dati è cruciale. Questa garanzia ci viene fornita da diverse tecniche che \textbf{TCP} implementa con meccanismi di acknowledge e timeout dei pacchetti. 

\begin{figure}[H]
  \centering
  \includegraphics[width=1\textwidth]{figures/tcp_vs_udp_geeksforgeeks.png}
  \caption{Comparazione graficata tra i 2 protocolli. Immagine tratta da \cite{TCPvsUDP_geeksforgeeks}}
  \label{Comparazione graficata tra i 2 protocolli}
\end{figure}

\noindent Oltre a ciò TCP implementa meccanismi di controllo del flusso che evitano la congestione della rete, garantendo una comunicazione efficiente anche in condizioni di carico elevato.

\noindent Ovviamente per garantire questi aspetti, ci sono compromessi, \textbf{TCP} infatti è un protocollo sensibilmente più "pesante" rispetto ad \textbf{UDP}. Nonostante la latenza di TCP, si è deciso di sfruttare il protocollo MQTT per l'affidabilità nella trasmissione. Questa scelta è stata dettata dalla necessità di garantire la consegna dei messaggi in modo sicuro e ordinato, anche in condizioni di rete instabili.

\subsection{Sicurezza}
\noindent Nell'ambito dell'analisi di scenari di rete pubblica come il nostro, l'aspetto della sicurezza riveste un'importanza cruciale. In tale contesto, l'adozione di ROS per la guida remota potrebbe rivelarsi una scelta non ottimale.

\noindent ROS, nella sua configurazione standard, non prevede l'implementazione di meccanismi di sicurezza a livello di pacchetto. Di conseguenza, i dati scambiati tra i nodi della rete vengono trasmessi in chiaro, rendendoli potenzialmente accessibili a qualsiasi entità connessa alla rete. Questa vulnerabilità espone i sistemi a rischi di intercettazione, manipolazione o alterazione dei dati, con potenziali conseguenze negative sulla privacy e sulla sicurezza operativa.

\noindent Al contrario MQTT supporta nativamente lo strato di trasporto sicuro SSL/TLS, che fornisce una crittografia end-to-end dei dati scambiati tra i dispositivi. Questo significa che anche in caso di intercettazione delle comunicazioni, i dati rimarranno incomprensibili agli intrusi.

\subsection{Struttura}
Nell'ambito della guida remota, la resilienza del sistema è un fattore critico. Un'infrastruttura deve essere in grado di operare in modo affidabile anche in condizioni avverse, garantendo la continuità del servizio e la sicurezza dei dati. In questo contesto, MQTT dimostra una maggiore resilienza rispetto a ROS. 

\noindent MQTT è progettato per operare in ambienti distribuiti, con molti dispositivi connessi a un broker centrale. Questa architettura rende il sistema più resistente a guasti locali, poiché la perdita di un singolo dispositivo o di una connessione non compromette necessariamente l'intero sistema.

\noindent Al contrario ROS spesso si basa su un unico organo, chiamato \textit{ROS Master} che coordina tutte le comunicazioni. La perdita o l'irraggiungibilità di questo organo può causare il blocco dell'intero sistema.
